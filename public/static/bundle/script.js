(()=>{"use strict";var t=function(){function t(){this.lastFPSCheck=0,this.framesThisSecond=0,this.fps=0}return t.prototype.update=function(){var t=window.performance.now();this.framesThisSecond++,t-this.lastFPSCheck>=1e3&&(this.fps=this.framesThisSecond,this.framesThisSecond=0,this.lastFPSCheck=t)},t.prototype.render=function(t){t.font="32px Arial",t.fillStyle="green",t.fillText("FPS: ".concat(this.fps),10,42)},t}(),i=function(){function t(t,i,s,e,n){void 0===s&&(s=0),void 0===e&&(e=0),void 0===n&&(n=0);var r=this;this.width=0,this.height=0,this.x=0,this.y=0,this.z=0,this.render=function(t){t.save(),t.translate(r.x,r.y-r.z),r.draw(t),t.restore()},this.width=t,this.height=i,this.x=s,this.y=e,this.z=n}return t.prototype.draw=function(t){var i=Math.round(this.width/2),s=Math.round(this.height/2);t.strokeStyle="#3b3b3b",t.fillStyle="grey",t.beginPath(),t.moveTo(i,0),t.lineTo(0,s),t.lineTo(i,this.height),t.lineTo(this.width,s),t.lineTo(i,0),t.stroke(),t.fill(),t.closePath()},t}(),s=function(){function t(t,i,s,e){this.tiles=[],this.rows=0,this.cols=0,this.x=0,this.y=0,this.rows=t,this.cols=i,this.x=s,this.y=e}return t.prototype.calcPos=function(t,i,s){t.x=32*(s-i),t.y=16*(s+i)},t.prototype.putTiles=function(){this.tiles=[];for(var t=0;t<this.rows;t++)for(var s=0;s<this.cols;s++){var e=new i(64,32);this.calcPos(e,t,s),this.tiles.push(e)}},t.prototype.render=function(t){t.save(),t.translate(this.x,this.y),this.tiles.forEach((function(i){i.render(t)})),t.restore()},t}(),e=function(){function i(i,e,n,r){this.msPrev=window.performance.now(),this.msPerFrame=1e3/60,this.deltaTime=0,this.updatables=[],this.renderables=[],this.canvas=i,this.ctx=e,this.canvas.width=n,this.canvas.height=r,this.map=new s(30,30,928,0),this.fpsDisplay=new t,this.updatables.push(this.fpsDisplay),this.renderables.push(this.map,this.fpsDisplay)}return i.prototype.start=function(){var t=this;this.map.putTiles(),requestAnimationFrame((function(){return t.gameLoop()}))},i.prototype.update=function(t){this.updatables.forEach((function(i){return i.update(t)}))},i.prototype.render=function(){var t=this;this.ctx.clearRect(0,0,1920,1080),this.renderables.forEach((function(i){return i.render(t.ctx)}))},i.prototype.gameLoop=function(){var t=this;requestAnimationFrame((function(){return t.gameLoop()}));var i=window.performance.now(),s=i-this.msPrev;s>=this.msPerFrame&&(this.deltaTime=s/1e3,this.update(this.deltaTime),this.render(),this.msPrev=i);var e=s%this.msPerFrame;this.msPrev=i-e},i}();window.addEventListener("load",(function(){var t=document.getElementById("canvas"),i=t.getContext("2d");new e(t,i,1920,1080).start()}))})();