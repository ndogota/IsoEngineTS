(()=>{"use strict";var t,e=function(){function t(t,e,i,s,r){void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=0);var n=this;this.width=0,this.height=0,this.row=0,this.col=0,this.x=0,this.y=0,this.z=0,this.render=function(t){t.save(),t.translate(n.x,n.y-n.z),n.draw(t),t.restore()},this.width=t,this.height=e,this.x=i,this.y=s,this.z=r}return t.prototype.draw=function(t){var e=Math.round(this.width/2),i=Math.round(this.height/2);t.strokeStyle="#3b3b3b",t.fillStyle="green",t.beginPath(),t.moveTo(e,0),t.lineTo(0,i),t.lineTo(e,this.height),t.lineTo(this.width,i),t.lineTo(e,0),t.stroke(),t.fill(),t.closePath()},t}(),i=function(){function t(t,e,i,s){this.tiles=[],this.rows=0,this.cols=0,this.x=0,this.y=0,this.rows=t,this.cols=e,this.x=i,this.y=s}return t.prototype.calcPos=function(t,e,i){t.row=e,t.col=i,t.x=32*(i-e),t.y=16*(i+e)},t.prototype.putTiles=function(){this.tiles=[];for(var t=0;t<this.rows;t++)for(var i=0;i<this.cols;i++){var s=new e(64,32);this.calcPos(s,t,i),this.tiles.push(s)}},t.prototype.setTileAt=function(t,e,i){this.calcPos(t,e,i),this.tiles.push(t)},t.prototype.render=function(t){t.save(),t.translate(this.x,this.y),this.tiles.forEach((function(e){e.render(t)})),t.restore()},t}(),s=(t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)},function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texture=null,e}return s(e,t),e.prototype.draw=function(t){if(null!==this.texture){var e=this.texture.naturalHeight;t.drawImage(this.texture,0,-e>>1)}},e}(e),n=function(){function t(t,e,s,r){this.msPrev=window.performance.now(),this.msPerFrame=1e3/60,this.frame=0,this.lastFPSCheck=0,this.framesThisSecond=0,this.fps=0,this.deltaTime=0,this.x=100,this.y=100,this.speed=50,this.canvas=t,this.ctx=e,this.canvas.width=s,this.canvas.height=r,this.map=new i(30,30,928,0)}return t.prototype.start=function(){var t=this,e=new r(64,32);e.texture=document.querySelector("#player"),this.map.putTiles(),this.map.setTileAt(e,14,14),requestAnimationFrame((function(){return t.gameLoop()}))},t.prototype.update=function(t){},t.prototype.gameLoop=function(){var t=this;requestAnimationFrame((function(){return t.gameLoop()}));var e=window.performance.now(),i=e-this.msPrev;i>=this.msPerFrame&&(this.deltaTime=i/1e3,this.update(this.deltaTime),this.render(),this.framesThisSecond++,e-this.lastFPSCheck>=1e3&&(this.fps=this.framesThisSecond,this.framesThisSecond=0,this.lastFPSCheck=e),this.msPrev=e);var s=i%this.msPerFrame;this.msPrev=e-s},t.prototype.render=function(){this.ctx.clearRect(0,0,1920,1080),this.map.render(this.ctx),this.renderFPS()},t.prototype.renderFPS=function(){this.ctx.font="32px Arial",this.ctx.fillStyle="green",this.ctx.fillText("FPS: ".concat(this.fps),10,42)},t}();window.addEventListener("load",(function(){var t=document.getElementById("canvas"),e=t.getContext("2d");new n(t,e,1920,1080).start()}))})();